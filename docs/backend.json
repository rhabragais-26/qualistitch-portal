

{
  "entities": {
    "UnclosedLead": {
      "title": "UnclosedLead",
      "type": "object",
      "description": "Represents an unclosed lead not yet converted to an order.",
      "properties": {
        "id": { "type": "string" },
        "date": { "type": "string", "format": "date-time" },
        "leads": { "type": "string" },
        "contactDetails": { "type": "string" },
        "quantity": { "type": "string" },
        "estimatedTotalAmount": { "type": "string" },
        "layoutSent": { "type": "boolean" },
        "quotationSent": { "type": "boolean" },
        "forSampleJacket": { "type": "boolean" },
        "forMeetUp": { "type": "boolean" },
        "dateOfMeetUp": { "type": "string" },
        "estimatedDateForDp": { "type": "string" },
        "status": { "type": "string" },
        "remarks": { "type": "string" },
        "nextFollowUpDate": { "type": "string" },
        "sces": { "type": "string" },
        "createdBy": { "type": "string" }
      },
      "required": ["id", "date", "leads", "sces", "createdBy"]
    },
    "DailyAd": {
      "title": "DailyAd",
      "type": "object",
      "description": "Represents a daily ad with associated images.",
      "properties": {
        "id": { "type": "string" },
        "date": { "type": "string", "format": "date-time" },
        "adAccount": { "type": "string" },
        "images": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "name": { "type": "string" },
              "url": { "type": "string", "format": "uri" }
            },
            "required": ["name", "url"]
          }
        },
        "submittedBy": { "type": "string" },
        "timestamp": { "type": "string", "format": "date-time" }
      },
      "required": ["id", "date", "adAccount", "images", "submittedBy", "timestamp"]
    },
    "EmbroideryLog": {
      "title": "EmbroideryLog",
      "type": "object",
      "description": "Represents a daily log for embroidery production for a specific lead.",
      "properties": {
        "id": { "type": "string" },
        "leadId": { "type": "string" },
        "date": { "type": "string", "format": "date-time" },
        "logDate": { "type": "string", "format": "date" },
        "operatorNickname": { "type": "string" },
        "stitches": {
          "type": "object",
          "properties": {
            "leftLogo": { "type": "string" },
            "rightLogo": { "type": "string" },
            "backLogo": { "type": "string" },
            "backDesign": { "type": "string" },
            "names": { "type": "string" }
          }
        },
        "rpm": {
          "type": "object",
          "properties": {
            "leftLogo": { "type": "string" },
            "rightLogo": { "type": "string" },
            "backLogo": { "type": "string" },
            "backDesign": { "type": "string" },
            "names": { "type": "string" }
          }
        },
        "quantity": {
          "type": "object",
          "properties": {
            "leftLogo": { "type": "string" },
            "rightLogo": { "type": "string" },
            "backLogo": { "type": "string" },
            "backDesign": { "type": "string" },
            "names": { "type": "string" }
          }
        },
        "startTime": {
          "type": "object",
          "properties": {
            "hour": { "type": "string" },
            "minute": { "type": "string" },
            "period": { "type": "string", "enum": ["AM", "PM"] }
          }
        },
        "endTime": {
          "type": "object",
          "properties": {
            "hour": { "type": "string" },
            "minute": { "type": "string" },
            "period": { "type": "string", "enum": ["AM", "PM"] }
          }
        },
        "shift": {
          "type": "array",
          "items": { "type": "string" }
        },
        "checkedDesigns": {
            "type": "object",
            "additionalProperties": { "type": "boolean" }
        }
      },
      "required": ["id", "leadId", "date", "operatorNickname"]
    },
    "JOCounter": {
      "title": "JOCounter",
      "type": "object",
      "description": "A counter to generate unique Job Order numbers.",
      "properties": {
        "currentNumber": {
          "type": "number",
          "description": "The last used Job Order number."
        }
      },
      "required": ["currentNumber"]
    },
    "OtherCashInflow": {
      "title": "OtherCashInflow",
      "type": "object",
      "description": "Represents a single cash inflow record other than downpayments.",
      "properties": {
        "id": { "type": "string" },
        "date": { "type": "string", "format": "date-time" },
        "customerName": { "type": "string" },
        "description": { "type": "string" },
        "amount": { "type": "number" },
        "paymentMode": { "type": "string" },
        "submittedBy": { "type": "string" },
        "timestamp": { "type": "string", "format": "date-time" }
      },
      "required": ["id", "date", "customerName", "description", "amount", "paymentMode", "submittedBy", "timestamp"]
    },
    "OperationalExpense": {
      "title": "OperationalExpense",
      "type": "object",
      "description": "Represents a single operational expense record.",
      "properties": {
        "id": { "type": "string" },
        "date": { "type": "string", "format": "date-time" },
        "category": { "type": "string" },
        "description": { "type": "string" },
        "amount": { "type": "number" },
        "submittedBy": { "type": "string" },
        "timestamp": { "type": "string", "format": "date-time" }
      },
      "required": ["id", "date", "category", "description", "amount", "submittedBy", "timestamp"]
    },
    "CostOfGoods": {
      "title": "CostOfGoods",
      "type": "object",
      "description": "Represents a single cost of goods record.",
      "properties": {
        "id": { "type": "string" },
        "date": { "type": "string", "format": "date-time" },
        "itemDescription": { "type": "string" },
        "supplier": { "type": "string" },
        "quantity": { "type": "number" },
        "unitCost": { "type": "number" },
        "totalCost": { "type": "number" },
        "submittedBy": { "type": "string" },
        "timestamp": { "type": "string", "format": "date-time" }
      },
      "required": ["id", "date", "itemDescription", "supplier", "quantity", "unitCost", "totalCost", "submittedBy", "timestamp"]
    },
    "CapitalExpense": {
      "title": "CapitalExpense",
      "type": "object",
      "description": "Represents a single capital expense record.",
      "properties": {
        "id": { "type": "string" },
        "date": { "type": "string", "format": "date-time" },
        "assetName": { "type": "string" },
        "description": { "type": "string" },
        "cost": { "type": "number" },
        "lifespanInYears": { "type": "number" },
        "submittedBy": { "type": "string" },
        "timestamp": { "type": "string", "format": "date-time" }
      },
      "required": ["id", "date", "assetName", "description", "cost", "submittedBy", "timestamp"]
    },
    "MarketingCalendarEvent": {
      "title": "MarketingCalendarEvent",
      "type": "object",
      "description": "Represents an event on the marketing calendar.",
      "properties": {
        "id": {
          "type": "string",
          "description": "A unique identifier for the event."
        },
        "date": {
          "type": "string",
          "format": "date-time"
        },
        "content": {
          "type": "string",
          "description": "The textual content or description for the calendar event."
        },
        "imageUrl": {
          "type": "string",
          "format": "uri",
          "description": "URL of the uploaded image for the event."
        },
        "uploadedBy": {
          "type": "string",
          "description": "Nickname of the user who uploaded the event."
        }
      },
      "required": [
        "id",
        "date",
        "content"
      ]
    },
    "PersonalCalendarEvent": {
      "title": "PersonalCalendarEvent",
      "type": "object",
      "description": "Represents a personal event on a user's calendar.",
      "properties": {
          "id": { "type": "string" },
          "date": { "type": "string", "format": "date-time" },
          "content": { "type": "string" }
      },
      "required": ["id", "date", "content"]
    },
    "PricingConfig": {
        "title": "PricingConfig",
        "type": "object",
        "description": "Stores the entire pricing structure for products and add-ons.",
        "properties": {
            "id": { "type": "string" },
            "productGroupMapping": {
                "type": "object",
                "description": "Mapping of product names to pricing groups.",
                "additionalProperties": { "type": "string" }
            },
            "pricingTiers": {
                "type": "object",
                "description": "Pricing tiers for different product groups and embroidery types.",
                "additionalProperties": {
                    "type": "object",
                    "properties": {
                        "logo": { "$ref": "#/entities/PricingConfig/definitions/embroideryPricing" },
                        "logoAndText": { "$ref": "#/entities/PricingConfig/definitions/embroideryPricing" },
                        "name": { "$ref": "#/entities/PricingConfig/definitions/embroideryPricing" }
                    }
                }
            },
            "addOnPricing": {
                "type": "object",
                "description": "Pricing for various add-ons.",
                "additionalProperties": { "$ref": "#/entities/PricingConfig/definitions/addOnTier" }
            }
        },
        "definitions": {
            "embroideryPricing": {
                "type": "object",
                "properties": {
                    "tiers": {
                        "type": "array",
                        "items": { "$ref": "#/entities/PricingConfig/definitions/tier" }
                    }
                }
            },
            "addOnTier": {
                "type": "object",
                "properties": {
                    "tiers": {
                        "type": "array",
                        "items": { "$ref": "#/entities/PricingConfig/definitions/tier" }
                    }
                }
            },
            "tier": {
                "type": "object",
                "properties": {
                    "min": { "type": "number" },
                    "max": { "type": "number" },
                    "price": { "type": "number" }
                },
                "required": ["min", "max", "price"]
            }
        }
    },
    "AppState": {
        "title": "AppState",
        "type": "object",
        "description": "Represents global application state.",
        "properties": {
          "showConfetti": { "type": "boolean", "description": "Flag to trigger confetti animation." },
          "confettiTimestamp": { "type": "string", "format": "date-time", "description": "Timestamp for the confetti event." },
          "congratsNickname": { "type": "string", "description": "The nickname of the SCES to congratulate." },
          "congratsMessage": { "type": "string", "description": "The message to display in the popup." },
          "congratsPhotoURL": { "type": "string", "format": "uri", "description": "URL to the user's profile picture." },
          "announcementText": { "type": "string", "description": "The text content of a global announcement." },
          "announcementType": { "type": "string", "enum": ["banner", "notification"], "description": "The display type of the announcement." },
          "announcementTimestamp": { "type": "string", "format": "date-time", "description": "Timestamp for the announcement event." },
          "announcementSender": { "type": "string", "description": "Nickname of the user who sent the announcement." }
        }
    },
    "UserProfile": {
        "$schema": "http://json-schema.org/draft-07/schema#",
        "title": "UserProfile",
        "type": "object",
        "description": "Represents a user's profile in the application.",
        "properties": {
          "uid": { "type": "string", "description": "The unique ID of the user, matching the Firebase Auth UID." },
          "firstName": { "type": "string", "description": "The user's first name." },
          "lastName": { "type": "string", "description": "The user's last name." },
          "nickname": { "type": "string", "description": "The user's nickname." },
          "email": { "type": "string", "format": "email", "description": "The user's email address." },
          "phoneNumber": { "type": "string", "description": "The user's phone number." },
          "photoURL": { "type": "string", "format": "uri", "description": "URL to the user's profile picture." },
          "role": { "type": "string", "description": "The user's role in the system (e.g., 'admin', 'user')." },
          "position": { "type": "string", "description": "The user's job title or position in the company." },
          "lastModified": { "type": "string", "format": "date-time", "description": "Timestamp for when the profile was last modified." },
          "lastSeen": { "type": "string", "format": "date-time", "description": "Timestamp of the user's last activity for presence indication." },
          "permissions": {
            "type": "object",
            "description": "Custom user permissions for page groups.",
            "properties": {
              "sales": { "type": "boolean" },
              "digitizing": { "type": "boolean" },
              "inventory": { "type": "boolean" },
              "production": { "type": "boolean" },
              "logistics": { "type": "boolean" },
              "finance": { "type": "boolean" },
              "marketing": { "type": "boolean" }
            }
          }
        },
        "required": ["uid", "firstName", "lastName", "nickname", "email", "role", "position"]
    },
    "DirectMessageChannel": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "DirectMessageChannel",
      "type": "object",
      "description": "Represents a direct message channel between two users.",
      "properties": {
        "participants": {
          "type": "array",
          "items": { "type": "string" },
          "description": "An array containing the UIDs of the two participants."
        },
        "lastMessage": {
          "type": "object",
          "properties": {
            "senderId": { "type": "string" },
            "text": { "type": "string" },
            "timestamp": { "type": "string", "format": "date-time" },
            "readBy": {
              "type": "array",
              "items": { "type": "string" },
              "description": "An array of participant UIDs who have read the last message."
            },
            "deliveredTo": {
              "type": "array",
              "items": { "type": "string" },
              "description": "An array of participant UIDs to whom the last message has been delivered."
            }
          }
        },
        "unreadCount": {
          "type": "object",
          "additionalProperties": { "type": "number" },
          "description": "A map of user UIDs to their unread message count."
        }
      },
      "required": ["participants"]
    },
    "ChatMessage": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "ChatMessage",
      "type": "object",
      "description": "Represents a single message in a chat.",
      "properties": {
        "id": { "type": "string" },
        "senderId": { "type": "string", "description": "UID of the user who sent the message." },
        "text": { "type": "string", "description": "The content of the message." },
        "timestamp": { "type": "string", "format": "date-time" }
      },
      "required": ["senderId", "text", "timestamp"]
    },
    "SizeChart": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "SizeChart",
      "type": "object",
      "description": "Stores image URLs and upload times for various size charts.",
      "properties": {
        "id": { "type": "string" },
        "bomberJacket": {
          "type": "object",
          "properties": {
            "image": { "type": ["string", "null"] },
            "uploadTime": { "type": ["string", "null"], "format": "date-time" },
            "uploadedBy": { "type": ["string", "null"] }
          }
        },
        "poloShirt": {
          "type": "object",
          "properties": {
            "image": { "type": ["string", "null"] },
            "uploadTime": { "type": ["string", "null"], "format": "date-time" },
            "uploadedBy": { "type": ["string", "null"] }
          }
        },
        "corporateJacket": {
          "type": "object",
          "properties": {
            "image": { "type": ["string", "null"] },
            "uploadTime": { "type": ["string", "null"], "format": "date-time" },
            "uploadedBy": { "type": ["string", "null"] }
          }
        }
      }
    },
    "Lead": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Lead",
      "type": "object",
      "description": "Represents a lead in the LeadTracker application.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the Lead entity."
        },
        "customerName": {
          "type": "string",
          "description": "Name of the customer."
        },
        "recipientName": {
          "type": "string",
          "description": "Name of the recipient for the order."
        },
        "companyName": {
          "type": "string",
          "description": "Name of the company associated with the lead."
        },
        "contactNumber": {
          "type": "string",
          "description": "Contact number for the lead."
        },
        "contactNumber2": {
          "type": "string",
          "description": "Second contact number for the lead."
        },
        "landlineNumber": {
          "type": "string",
          "description": "Landline number for the lead."
        },
        "location": {
          "type": "string",
          "description": "The full, concatenated address for the lead."
        },
        "houseStreet": {
          "type": "string",
          "description": "House number, street name, and other specific location details."
        },
        "barangay": {
          "type": "string",
          "description": "Barangay of the lead."
        },
        "city": {
          "type": "string",
          "description": "City of the lead."
        },
        "province": {
          "type": "string",
          "description": "Province of the lead."
        },
        "forceNewCustomer": {
          "type": "boolean",
          "description": "Admin override to treat a repeat customer as new for display purposes."
        },
        "paymentType": {
          "type": "string",
          "description": "Payment type for the lead (Partially Paid, Fully Paid, COD)."
        },
        "salesRepresentative": {
          "type": "string",
          "description": "Sales Representative associated with the lead."
        },
        "assignedDigitizer": {
          "type": "string",
          "description": "The nickname of the digitizer assigned to this lead."
        },
        "scesFullName": {
          "type": "string",
          "description": "The full name of the sales representative."
        },
        "orderType": {
          "type": "string",
          "description": "Type of order for the lead."
        },
        "priorityType": {
          "type": "string",
          "description": "Priority type for the lead."
        },
        "productType": {
          "type": "string",
          "description": "Type of product for the lead."
        },
        "lastModified": {
          "type": "string",
          "format": "date-time",
          "description": "The date and time when the lead was last modified."
        },
        "deliveryDate": {
            "type": "string",
            "format": "date-time",
            "description": "The delivery date for the order."
        },
        "adjustedDeliveryDate": {
          "type": "string",
          "format": "date-time",
          "description": "The adjusted delivery date set during the sales audit."
        },
        "courier": {
            "type": "string",
            "description": "The courier for the order."
        },
        "joNumber": {
          "type": "number",
          "description": "The job order number for the lead."
        },
        "publiclyPrintable": {
          "type": "boolean",
          "description": "Indicates if a job order can be printed without authentication."
        },
        "photoshootDate": {
          "type": "string",
          "format": "date-time",
          "description": "The scheduled date for the product photoshoot."
        },
        "isPostingConsentGranted": {
          "type": "boolean",
          "description": "Indicates if the client has given consent for their order to be posted on social media."
        },
        "postingConsentTimestamp": {
            "type": "string",
            "format": "date-time",
            "description": "Timestamp for when 'isPostingConsentGranted' was checked."
        },
        "isJoPrinted": {
          "type": "boolean",
          "description": "Indicates if the job order has been printed."
        },
        "joPrintedTimestamp": {
            "type": "string",
            "format": "date-time",
            "description": "Timestamp for when 'isJoPrinted' was checked."
        },
        "isJoHardcopyReceived": {
            "type": "boolean",
            "description": "Indicates if the printed job order has been received by programming."
        },
        "joHardcopyReceivedTimestamp": {
            "type": "string",
            "format": "date-time",
            "description": "Timestamp for when 'isJoHardcopyReceived' was checked."
        },
        "isUnderProgramming": {
          "type": "boolean",
          "description": "Indicates if the job order is currently under programming."
        },
        "underProgrammingTimestamp": {
            "type": "string",
            "format": "date-time",
            "description": "Timestamp for when 'isUnderProgramming' was checked."
        },
        "isInitialApproval": {
          "type": "boolean",
          "description": "Indicates if the job order has received initial approval."
        },
        "initialApprovalTimestamp": {
            "type": "string",
            "format": "date-time",
            "description": "Timestamp for when 'isInitialApproval' was checked."
        },
        "isLogoTesting": {
            "type": "boolean",
            "description": "Indicates if the logo for the job order is currently being tested."
        },
        "logoTestingTimestamp": {
            "type": "string",
            "format": "date-time",
            "description": "Timestamp for when 'isLogoTesting' was checked."
        },
        "isRevision": {
          "type": "boolean",
          "description": "Indicates if the job order requires revision."
        },
        "revisionTimestamp": {
            "type": "string",
            "format": "date-time",
            "description": "Timestamp for when 'isRevision' was checked."
        },
        "isFinalApproval": {
          "type": "boolean",
          "description": "Indicates if the job order has received final approval."
        },
        "finalApprovalTimestamp": {
            "type": "string",
            "format": "date-time",
            "description": "Timestamp for when 'isFinalApproval' was checked."
        },
        "isFinalProgram": {
          "type": "boolean",
          "description": "Indicates if the job order has its final program."
        },
        "finalProgramTimestamp": {
            "type": "string",
            "format": "date-time",
            "description": "Timestamp for when 'isFinalProgram' was checked."
        },
        "isPreparedForProduction": {
          "type": "boolean",
          "description": "Indicates if the order has been prepared for production."
        },
        "isSentToProduction": {
          "type": "boolean",
          "description": "Indicates if the order has been sent to production."
        },
        "sentToProductionTimestamp": {
          "type": "string",
          "format": "date-time",
          "description": "The date and time when the order was sent to production."
        },
        "isCutting": { "type": "boolean", "description": "Indicates if the order is in the cutting stage." },
        "cuttingTimestamp": { "type": "string", "format": "date-time", "description": "Timestamp for when 'isCutting' was checked." },
        "productionType": { "type": "string", "enum": ["Pending", "In-house", "Outsource 1", "Outsource 2", "Outsource 3"], "description": "Indicates if production (cutting) is In-house or Outsourced." },
        "sewerType": { "type": "string", "enum": ["Pending", "In-house", "Outsource 1", "Outsource 2", "Outsource 3"], "description": "Indicates if sewing is In-house or Outsourced." },
        "isSewing": { "type": "boolean", "description": "Indicates if the order is in the sewing stage." },
        "sewingTimestamp": { "type": "string", "format": "date-time", "description": "Timestamp for when 'isSewing' was checked." },
        "isTrimming": { "type": "boolean", "description": "Indicates if the order is in the trimming stage." },
        "isDone": { "type": "boolean", "description": "Indicates if the order is completely done." },
        "doneProductionTimestamp": { "type": "string", "format": "date-time", "description": "Timestamp for when the production is marked as done." },
        "isEndorsedToLogistics": { "type": "boolean", "description": "Indicates if the order has been endorsed to logistics." },
        "deliveredTimestamp": { "type": "string", "format": "date-time", "description": "Timestamp for when the order was delivered." },
        "isDigitizingArchived": {
          "type": "boolean",
          "description": "Indicates if the lead is archived and should be hidden from the digitizing queue."
        },
        "digitizingArchivedTimestamp": {
            "type": "string",
            "format": "date-time",
            "description": "Timestamp for when the digitizing process was archived."
        },
        "shipmentStatus": {
          "type": "string",
          "enum": ["Pending", "Packed", "Shipped", "Delivered", "Cancelled"],
          "description": "The shipment status of the order."
        },
        "shippedTimestamp": {
          "type": "string",
          "format": "date-time",
          "description": "Timestamp for when the order was shipped."
        },
        "isEmbroideryDone": {
            "type": "boolean",
            "description": "Indicates if the embroidery for the order is done."
        },
        "embroideryDoneTimestamp": { "type": "string", "format": "date-time", "description": "Timestamp for when 'isEmbroideryDone' was checked." },
        "isSalesAuditRequested": {
          "type": "boolean",
          "description": "Indicates if the order has been sent for a sales audit."
        },
        "salesAuditRequestedTimestamp": {
          "type": "string",
          "format": "date-time",
          "description": "Timestamp for when a sales audit was requested."
        },
        "isSalesAuditComplete": {
            "type": "boolean",
            "description": "Indicates if the sales audit for the order has been completed."
        },
        "salesAuditCompleteTimestamp": {
            "type": "string",
            "format": "date-time",
            "description": "Timestamp for when the sales audit was completed."
        },
        "isWaybillPrinted": {
          "type": "boolean",
          "description": "Indicates if the waybill for the order has been printed."
        },
        "waybillNumber": {
          "type": "string",
          "description": "The waybill number for the shipment."
        },
        "isQualityApproved": {
          "type": "boolean",
          "description": "Indicates if the quality check for the order has been approved."
        },
        "qualityApprovedTimestamp": {
          "type": "string",
          "format": "date-time",
          "description": "Timestamp for when quality was approved."
        },
        "isRecheckingQuality": {
          "type": "boolean",
          "description": "Indicates if a disapproved order is being re-checked."
        },
        "isPacked": {
          "type": "boolean",
          "description": "Indicates if the order has been packed for shipment."
        },
        "packedTimestamp": {
          "type": "string",
          "format": "date-time",
          "description": "Timestamp for when the order was packed."
        },
        "orders": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "productType": { "type": "string" },
              "color": { "type": "string" },
              "size": { "type": "string" },
              "quantity": { "type": "number" },
              "remarks": { "type": "string" },
              "design": {
                "type": "object",
                "properties": {
                  "left": { "type": "boolean" },
                  "right": { "type": "boolean" },
                  "backLogo": { "type": "boolean" },
                  "backText": { "type": "boolean" }
                }
              }
            },
            "required": ["productType", "color", "size", "quantity"]
          }
        },
        "layouts": {
          "type": "array",
          "description": "An array of layout objects for the job order.",
          "items": {
            "type": "object",
            "properties": {
              "layoutImage": { "type": ["string", "null"] },
              "layoutImageUploadTime": { "type": ["string", "null"], "format": "date-time" },
              "layoutImageUploadedBy": { "type": ["string", "null"] },
              "refLogoLeftImage": { "type": ["string", "null"] },
              "refLogoLeftImageUploadTime": { "type": ["string", "null"], "format": "date-time" },
              "refLogoLeftImageUploadedBy": { "type": ["string", "null"] },
              "refLogoRightImage": { "type": ["string", "null"] },
              "refLogoRightImageUploadTime": { "type": ["string", "null"], "format": "date-time" },
              "refLogoRightImageUploadedBy": { "type": ["string", "null"] },
              "refBackLogoImage": { "type": ["string", "null"] },
              "refBackLogoImageUploadTime": { "type": ["string", "null"], "format": "date-time" },
              "refBackLogoImageUploadedBy": { "type": ["string", "null"] },
              "refBackDesignImage": { "type": ["string", "null"] },
              "refBackDesignImageUploadTime": { "type": ["string", "null"], "format": "date-time" },
              "refBackDesignImageUploadedBy": { "type": ["string", "null"] },
              "logoLeftImage": { "type": ["string", "null"] },
              "logoLeftImageUploadTime": { "type": ["string", "null"], "format": "date-time" },
              "logoLeftImageUploadedBy": { "type": ["string", "null"] },
              "logoRightImage": { "type": ["string", "null"] },
              "logoRightImageUploadTime": { "type": ["string", "null"], "format": "date-time" },
              "logoRightImageUploadedBy": { "type": ["string", "null"] },
              "backLogoImage": { "type": ["string", "null"] },
              "backLogoImageUploadTime": { "type": ["string", "null"], "format": "date-time" },
              "backLogoImageUploadedBy": { "type": ["string", "null"] },
              "backDesignImage": { "type": ["string", "null"] },
              "backDesignImageUploadTime": { "type": ["string", "null"], "format": "date-time" },
              "backDesignImageUploadedBy": { "type": ["string", "null"] },
              "testLogoLeftImage": { "type": ["string", "null"] },
              "testLogoLeftImageUploadTime": { "type": ["string", "null"], "format": "date-time" },
              "testLogoLeftImageUploadedBy": { "type": ["string", "null"] },
              "testLogoRightImage": { "type": ["string", "null"] },
              "testLogoRightImageUploadTime": { "type": ["string", "null"], "format": "date-time" },
              "testLogoRightImageUploadedBy": { "type": ["string", "null"] },
              "testBackLogoImage": { "type": ["string", "null"] },
              "testBackLogoImageUploadTime": { "type": ["string", "null"], "format": "date-time" },
              "testBackLogoImageUploadedBy": { "type": ["string", "null"] },
              "testBackDesignImage": { "type": ["string", "null"] },
              "testBackDesignImageUploadTime": { "type": ["string", "null"], "format": "date-time" },
              "testBackDesignImageUploadedBy": { "type": ["string", "null"] },
              "finalLogoEmb": { "type": "array", "items": { "type": "object", "properties": { "name": { "type": "string" }, "url": { "type": "string" } } } },
              "finalLogoEmbUploadTimes": { "type": "array", "items": { "type": ["string", "null"], "format": "date-time" } },
              "finalLogoEmbUploadedBy": { "type": "array", "items": { "type": ["string", "null"] } },
              "finalBackDesignEmb": { "type": "array", "items": { "type": "object", "properties": { "name": { "type": "string" }, "url": { "type": "string" } } } },
              "finalBackDesignEmbUploadTimes": { "type": "array", "items": { "type": ["string", "null"], "format": "date-time" } },
              "finalBackDesignEmbUploadedBy": { "type": "array", "items": { "type": ["string", "null"] } },
              "finalLogoDst": { "type": "array", "items": { "type": "object", "properties": { "name": { "type": "string" }, "url": { "type": "string" } } } },
              "finalLogoDstUploadTimes": { "type": "array", "items": { "type": ["string", "null"], "format": "date-time" } },
              "finalLogoDstUploadedBy": { "type": "array", "items": { "type": ["string", "null"] } },
              "finalBackDesignDst": { "type": "array", "items": { "type": "object", "properties": { "name": { "type": "string" }, "url": { "type": "string" } } } },
              "finalBackDesignDstUploadTimes": { "type": "array", "items": { "type": ["string", "null"], "format": "date-time" } },
              "finalBackDesignDstUploadedBy": { "type": "array", "items": { "type": ["string", "null"] } },
              "finalNamesDst": { "type": "array", "items": { "type": "object", "properties": { "name": { "type": "string" }, "url": { "type": "string" } } } },
              "finalNamesDstUploadTimes": { "type": "array", "items": { "type": ["string", "null"], "format": "date-time" } },
              "finalNamesDstUploadedBy": { "type": "array", "items": { "type": ["string", "null"] } },
              "sequenceLogo": { "type": "array", "items": { "type": "object", "properties": { "name": { "type": "string" }, "url": { "type": "string" } } } },
              "sequenceLogoUploadTimes": { "type": "array", "items": { "type": ["string", "null"], "format": "date-time" } },
              "sequenceLogoUploadedBy": { "type": "array", "items": { "type": ["string", "null"] } },
              "sequenceBackDesign": { "type": "array", "items": { "type": "object", "properties": { "name": { "type": "string" }, "url": { "type": "string" } } } },
              "sequenceBackDesignUploadTimes": { "type": "array", "items": { "type": ["string", "null"], "format": "date-time" } },
              "sequenceBackDesignUploadedBy": { "type": "array", "items": { "type": ["string", "null"] } },
              "finalProgrammedLogo": { "type": "array", "items": { "type": "object", "properties": { "name": { "type": "string" }, "url": { "type": "string" } } } },
              "finalProgrammedLogoUploadTimes": { "type": "array", "items": { "type": ["string", "null"], "format": "date-time" } },
              "finalProgrammedLogoUploadedBy": { "type": "array", "items": { "type": ["string", "null"] } },
              "finalProgrammedBackDesign": { "type": "array", "items": { "type": "object", "properties": { "name": { "type": "string" }, "url": { "type": "string" } } } },
              "finalProgrammedBackDesignUploadTimes": { "type": "array", "items": { "type": ["string", "null"], "format": "date-time" } },
              "finalProgrammedBackDesignUploadedBy": { "type": "array", "items": { "type": ["string", "null"] } },
              "dstLogoLeft": { "type": "string" },
              "dstLogoRight": { "type": "string" },
              "dstBackLogo": { "type": "string" },
              "dstBackText": { "type": "string" },
              "namedOrders": {
                "type": "array",
                "items": {
                  "type": "object",
                  "properties": {
                    "name": { "type": "string" },
                    "color": { "type": "string" },
                    "size": { "type": "string" },
                    "quantity": { "type": "number" },
                    "backText": { "type": "string" }
                  },
                  "required": ["name", "color", "size", "quantity", "backText"]
                }
              }
            }
          }
        },
        "grandTotal": { "type": "number", "description": "The grand total of the order." },
        "paidAmount": { "type": "number", "description": "The amount paid by the customer." },
        "modeOfPayment": { "type": "string", "description": "The mode of payment used." },
        "balance": { "type": "number", "description": "The remaining balance to be paid." },
        "addOns": {
          "type": "object",
          "description": "Add-ons applied to the order, grouped by product type."
        },
        "discounts": {
          "type": "object",
          "description": "Discounts applied to the order, grouped by product type."
        },
        "editedUnitPrices": {
            "type": "object",
            "description": "Stores manually overridden unit prices, keyed by product group and embroidery type.",
            "additionalProperties": { "type": "number" }
        },
        "editedAddOnPrices": {
            "type": "object",
            "description": "Stores manually overridden add-on prices, keyed by product group and add-on type.",
            "additionalProperties": { "type": "number" }
        },
        "editedProgrammingFees": {
            "type": "object",
            "description": "Stores manually overridden programming fees, keyed by product group.",
            "additionalProperties": {
                "type": "object",
                "properties": {
                    "logoFee": { "type": "number" },
                    "backTextFee": { "type": "number" }
                }
            }
        },
        "payments": {
          "type": "array",
          "description": "Payments made for the order.",
          "items": {
              "type": "object",
              "properties": {
                  "id": { "type": "string" },
                  "type": { "type": "string", "enum": ["down", "full", "balance", "additional", "securityDeposit"] },
                  "amount": { "type": "number" },
                  "mode": { "type": "string" },
                  "processedBy": { "type": "string" },
                  "timestamp": { "type": "string", "format": "date-time" },
                  "verified": { "type": "boolean", "description": "Indicates if the payment has been verified by finance." },
                  "verifiedBy": { "type": "string", "description": "The nickname of the user who verified the payment." },
                  "verifiedTimestamp": { "type": "string", "format": "date-time", "description": "Timestamp of when the payment was verified." }
              }
          }
        }
      },
      "required": [
        "id",
        "customerName",
        "companyName",
        "contactNumber",
        "location",
        "houseStreet",
        "barangay",
        "city",
        "province",
        "paymentType",
        "salesRepresentative",
        "orderType",
        "priorityType",
        "productType",
        "lastModified",
        "courier"
      ]
    },
    "InventoryItem": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "InventoryItem",
      "type": "object",
      "description": "Represents an item in the inventory.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the InventoryItem."
        },
        "productType": {
          "type": "string",
          "description": "Type of the product."
        },
        "color": {
          "type": "string",
          "description": "Color of the product."
        },
        "size": {
          "type": "string",
          "description": "Size of the product."
        },
        "stock": {
          "type": "number",
          "description": "Available stock quantity."
        }
      },
      "required": ["id", "productType", "color", "size", "stock"]
    },
    "OperationalCase": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "OperationalCase",
      "type": "object",
      "description": "Represents an operational case like RTS, quality error, or replacement.",
      "properties": {
        "id": { "type": "string" },
        "joNumber": { "type": "string" },
        "caseType": { "type": "string", "enum": ["Return to Sender (RTS)", "Quality Errors", "Replacement"] },
        "remarks": { "type": "string", "description": "Initial remarks for the case. Can be appended with reopening remarks." },
        "image": { "type": "string", "description": "Data URL of the uploaded image." },
        "submissionDateTime": { "type": "string", "format": "date-time" },
        "submittedBy": { "type": "string" },
        "customerName": { "type": "string" },
        "companyName": { "type": "string" },
        "contactNumber": { "type": "string" },
        "landlineNumber": { "type": "string" },
        "quantity": { "type": "number", "description": "Total number of items involved in the case, derived from caseItems." },
        "caseItems": {
            "type": "array",
            "description": "An array of items related to the case.",
            "items": {
                "type": "object",
                "properties": {
                    "id": { "type": "string" },
                    "productType": { "type": "string" },
                    "color": { "type": "string" },
                    "size": { "type": "string" },
                    "quantity": { "type": "number" }
                },
                "required": ["id", "productType", "color", "size", "quantity"]
            }
        },
        "isArchived": { "type": "boolean", "description": "Indicates if the case is resolved and archived." },
        "isDeleted": { "type": "boolean", "description": "Indicates if the case is soft-deleted." }
      },
      "required": ["id", "joNumber", "caseType", "remarks", "submissionDateTime", "caseItems", "submittedBy"]
    },
    "CampaignInquiry": {
      "title": "CampaignInquiry",
      "type": "object",
      "description": "Represents daily inquiry counts from marketing campaigns.",
      "properties": {
        "id": { "type": "string" },
        "date": { "type": "string", "format": "date-time", "description": "The date for which the inquiries are recorded." },
        "adAccount": { "type": "string", "description": "The ad account used for the campaign." },
        "adCampaign": { "type": "string", "description": "The name of the ad campaign." },
        "smallTicketInquiries": { "type": "number", "description": "Number of inquiries for small ticket ads (1-9 pcs)." },
        "mediumTicketInquiries": { "type": "number", "description": "Number of inquiries for medium ticket ads (10-49 pcs)." },
        "largeTicketInquiries": { "type": "number", "description": "Number of inquiries for large ticket ads (50-199 pcs)." },
        "highTicketInquiries": { "type": "number", "description": "Number of inquiries for high ticket ads (200+ pcs)." },
        "submittedBy": { "type": "string", "description": "Nickname of the user who submitted the entry." },
        "timestamp": { "type": "string", "format": "date-time", "description": "Timestamp of the submission." }
      },
      "required": ["id", "date", "adAccount", "adCampaign", "smallTicketInquiries", "mediumTicketInquiries", "largeTicketInquiries", "highTicketInquiries", "submittedBy", "timestamp"]
    },
    "AdSpendInquiry": {
      "title": "AdSpendInquiry",
      "type": "object",
      "description": "Represents daily ad spend and inquiry counts.",
      "properties": {
        "id": { "type": "string" },
        "date": { "type": "string", "format": "date-time" },
        "adAccount": { "type": "string" },
        "adsSpent": { "type": "number" },
        "metaInquiries": { "type": "number" },
        "pancakeInquiries": { "type": "number" },
        "submittedBy": { "type": "string" },
        "timestamp": { "type": "string", "format": "date-time" }
      },
      "required": ["id", "date", "adAccount", "adsSpent", "metaInquiries", "pancakeInquiries", "submittedBy", "timestamp"]
    },
    "AdCampaign": {
      "title": "AdCampaign",
      "type": "object",
      "description": "Represents a configurable ad campaign name.",
      "properties": {
        "id": { "type": "string" },
        "name": { "type": "string", "description": "The name of the ad campaign." },
        "adAccount": { "type": "string", "description": "The ad account this campaign belongs to." },
        "imageUrl": {
          "type": "string",
          "format": "uri",
          "description": "URL of the uploaded campaign image."
        }
      },
      "required": ["id", "name", "adAccount"]
    }
  },
  "auth": {
    "providers": [
      "password",
      "anonymous"
    ]
  },
  "firestore": {
    "structure": [
      {
        "path": "/unclosedLeads/{unclosedLeadId}",
        "definition": {
          "entityName": "UnclosedLead",
          "schema": {
            "$ref": "#/backend/entities/UnclosedLead"
          },
          "description": "Stores unclosed lead data."
        }
      },
      {
        "path": "/dailyAds/{adId}",
        "definition": {
          "entityName": "DailyAd",
          "schema": {
            "$ref": "#/backend/entities/DailyAd"
          },
          "description": "Stores entries for daily ads."
        }
      },
      {
        "path": "/embroidery_logs/{logId}",
        "definition": {
          "entityName": "EmbroideryLog",
          "schema": {
            "$ref": "#/backend/entities/EmbroideryLog"
          },
          "description": "Stores daily embroidery log entries.",
          "params": [
            {
              "name": "logId",
              "description": "Unique ID for the log, often combining leadId and date."
            }
          ]
        }
      },
      {
        "path": "/users/{userId}/personalCalendar/{eventId}",
        "definition": {
          "entityName": "PersonalCalendarEvent",
          "schema": {
            "$ref": "#/backend/entities/PersonalCalendarEvent"
          },
          "description": "Stores personal calendar events for a specific user.",
          "params": [
            {
              "name": "userId",
              "description": "The UID of the user."
            },
            {
              "name": "eventId",
              "description": "A unique ID for the event."
            }
          ]
        }
      },
      {
        "path": "/marketingCalendar/{eventId}",
        "definition": {
          "entityName": "MarketingCalendarEvent",
          "schema": {
            "$ref": "#/backend/entities/MarketingCalendarEvent"
          },
          "description": "Stores marketing calendar events, with each document representing a single event.",
          "params": [
            {
              "name": "eventId",
              "description": "A unique ID for the event."
            }
          ]
        }
      },
      {
        "path": "/operational_expenses/{expenseId}",
        "definition": {
          "entityName": "OperationalExpense",
          "schema": { "$ref": "#/backend/entities/OperationalExpense" },
          "description": "Stores operational expense records."
        }
      },
      {
        "path": "/cost_of_goods/{cogsId}",
        "definition": {
          "entityName": "CostOfGoods",
          "schema": { "$ref": "#/backend/entities/CostOfGoods" },
          "description": "Stores cost of goods records."
        }
      },
      {
        "path": "/capital_expenses/{capitalExpenseId}",
        "definition": {
          "entityName": "CapitalExpense",
          "schema": { "$ref": "#/backend/entities/CapitalExpense" },
          "description": "Stores capital expense records."
        }
      },
      {
        "path": "/appState/{stateId}",
        "definition": {
          "entityName": "AppState",
          "schema": { "$ref": "#/backend/entities/AppState" },
          "description": "Stores global application state, like triggers for real-time UI events. A single document with a known ID 'global' is used.",
          "params": [
            {
              "name": "stateId",
              "description": "The document ID, which should be 'global'."
            }
          ]
        }
      },
      {
        "path": "/users/{userId}",
        "definition": {
          "entityName": "UserProfile",
          "schema": {
            "$ref": "#/backend/entities/UserProfile"
          },
          "description": "Stores user profile information.",
          "params": [
            {
              "name": "userId",
              "description": "Unique identifier for the user document, same as Firebase Auth UID."
            }
          ]
        }
      },
      {
        "path": "/direct_messages/{channelId}",
        "definition": {
          "entityName": "DirectMessageChannel",
          "schema": {
            "$ref": "#/backend/entities/DirectMessageChannel"
          },
          "description": "Metadata for a direct message channel.",
          "params": [
            {
              "name": "channelId",
              "description": "Unique identifier for the direct message channel, composed of two user UIDs."
            }
          ]
        }
      },
      {
        "path": "/direct_messages/{channelId}/messages/{messageId}",
        "definition": {
          "entityName": "ChatMessage",
          "schema": {
            "$ref": "#/backend/entities/ChatMessage"
          },
          "description": "Stores individual chat messages within a direct message channel.",
          "params": [
            {
              "name": "channelId",
              "description": "Unique identifier for the direct message channel, composed of two user UIDs."
            },
            {
              "name": "messageId",
              "description": "Unique identifier for the chat message."
            }
          ]
        }
      },
      {
        "path": "/sizeCharts/{chartId}",
        "definition": {
          "entityName": "SizeChart",
          "schema": { "$ref": "#/backend/entities/SizeChart" },
          "description": "Stores size chart images for different product types. A single document with a known ID 'default' is used.",
          "params": [
            {
              "name": "chartId",
              "description": "The document ID for the size charts, which should be 'default'."
            }
          ]
        }
      },
      {
        "path": "/pricing/{configId}",
        "definition": {
          "entityName": "PricingConfig",
          "schema": { "$ref": "#/entities/PricingConfig" },
          "description": "Stores pricing configuration. A single document with a known ID 'default' is used.",
          "params": [
            { "name": "configId", "description": "The document ID, which should be 'default'." }
          ]
        }
      },
      {
        "path": "/leads/{leadId}",
        "definition": {
          "entityName": "Lead",
          "schema": {
            "$ref": "#/backend/entities/Lead"
          },
          "description": "Stores lead data. Each document represents a single lead in the LeadTracker application.",
          "params": [
            {
              "name": "leadId",
              "description": "Unique identifier for the lead document."
            }
          ]
        }
      },
       {
        "path": "/inventory/{itemId}",
        "definition": {
          "entityName": "InventoryItem",
          "schema": {
            "$ref": "#/backend/entities/InventoryItem"
          },
          "description": "Stores inventory items. Each document represents a unique combination of product type, color, and size.",
          "params": [
            {
              "name": "itemId",
              "description": "Unique identifier for the inventory item."
            }
          ]
        }
      },
      {
        "path": "/operationalCases/{operationalCaseId}",
        "definition": {
          "entityName": "OperationalCase",
          "schema": {
            "$ref": "#/backend/entities/OperationalCase"
          },
          "description": "Stores operational cases.",
          "params": [
            {
              "name": "caseId",
              "description": "Unique identifier for the operational case."
            }
          ]
        }
      },
      {
        "path": "/campaign_inquiries/{inquiryId}",
        "definition": {
          "entityName": "CampaignInquiry",
          "schema": {
            "$ref": "#/backend/entities/CampaignInquiry"
          },
          "description": "Stores daily inquiry data from marketing campaigns.",
          "params": [
            {
              "name": "inquiryId",
              "description": "Unique identifier for the inquiry document."
            }
          ]
        }
      },
      {
        "path": "/adCampaigns/{campaignId}",
        "definition": {
          "entityName": "AdCampaign",
          "schema": {
            "$ref": "#/backend/entities/AdCampaign"
          },
          "description": "Stores the names of ad campaigns for the dropdown.",
          "params": [
            {
              "name": "campaignId",
              "description": "Unique identifier for the ad campaign."
            }
          ]
        }
      },
      {
        "path": "/ad_spend_inquiries/{inquiryId}",
        "definition": {
          "entityName": "AdSpendInquiry",
          "schema": { "$ref": "#/backend/entities/AdSpendInquiry" },
          "description": "Stores daily ad spend and inquiry data.",
          "params": [
            {
              "name": "inquiryId",
              "description": "Unique identifier for the ad spend inquiry document."
            }
          ]
        }
      },
      {
        "path": "/other_cash_inflows/{inflowId}",
        "definition": {
          "entityName": "OtherCashInflow",
          "schema": {
            "$ref": "#/backend/entities/OtherCashInflow"
          },
          "description": "Stores records of other cash inflows."
        }
      },
      {
        "path": "/counters/{counterId}",
        "definition": {
          "entityName": "JOCounter",
          "schema": {
            "$ref": "#/backend/entities/JOCounter"
          },
          "description": "Stores global counters. Used for generating unique Job Order numbers (doc id: 'jo_counter') and daily quotation numbers (doc id: 'quotation_YYMMDD').",
          "params": [
            {
              "name": "counterId",
              "description": "The ID of the counter, e.g., 'jo_counter' or 'quotation_240101'."
            }
          ]
        }
      }
    ],
    "reasoning": "The data structure is designed to store lead information collected via the LeadTracker application. To ensure security and efficient data retrieval, leads are stored under a collection called `leads`. This design promotes a flat structure, avoiding nested collections and complex queries, especially considering the app's focus is on data input rather than deeply relational data. Each lead document contains all relevant lead data. This simplifies data access and minimizes the need for complex joins or subqueries, aligning with the app's focus on simplicity and ease of use.\\n\\n**Authorization Independence:** Since there are no explicit user roles, collaborative features, or ownership details mentioned in the requirements, the system assumes open access to leads. If access control becomes a requirement in the future, a `members` map or a separate `/roles` collection would be used in combination with denormalization to achieve authorization independence.\\n\\n**QAPs (Rules are not Filters):** The structure supports secure `list` operations because all lead data is stored within a single, top-level collection. Security rules can be applied at the collection level, ensuring that only authorized users can access lead data, without needing to filter data based on document content. If more sophisticated access controls are required (e.g., restricting access based on CSR assignment), denormalization of CSR assignment directly into the lead documents combined with security rules based on the `request.auth.uid` will ensure that filtering within the rules is not required."
  }
}
